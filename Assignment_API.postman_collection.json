{
  "info": {
    "name": "Enhanced Assignment API",
    "description": "Complete Assignment API with unified student view and role-based access control",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000/api/v1/assignments",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "your-jwt-token-here",
      "type": "string"
    },
    {
      "key": "student_id",
      "value": "student_123",
      "type": "string"
    },
    {
      "key": "assignment_id",
      "value": "assignment_456",
      "type": "string"
    },
    {
      "key": "submission_id",
      "value": "submission_789",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üë®‚Äçüíº Admin Endpoints",
      "item": [
        {
          "name": "Create Assignment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Mathematics Assignment 1\",\n  \"description\": \"Solve the given mathematical problems\",\n  \"assignment_type\": \"homework\",\n  \"subject_id\": \"subject_123\",\n  \"class_id\": \"class_456\",\n  \"due_date\": \"2024-08-15T23:59:59Z\",\n  \"total_marks\": 100,\n  \"instructions\": \"Show all work and calculations\",\n  \"attachments\": [],\n  \"submission_format\": [\"pdf\", \"doc\"],\n  \"allow_late_submission\": true,\n  \"late_penalty_percentage\": 10,\n  \"max_file_size_mb\": 10\n}"
            },
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "Create a new assignment for a class or course"
          }
        },
        {
          "name": "Get Admin Overview",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/overview?status=active&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["admin", "overview"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get comprehensive overview of all assignments across campus"
          }
        },
        {
          "name": "Get Assignment Analytics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/admin/analytics?period=month",
              "host": ["{{base_url}}"],
              "path": ["admin", "analytics"],
              "query": [
                {
                  "key": "period",
                  "value": "month"
                }
              ]
            },
            "description": "Get detailed analytics about assignments, submissions, and grades"
          }
        },
        {
          "name": "Bulk Operations",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"operation\": \"extend_due_date\",\n  \"assignment_ids\": [\"assignment_123\", \"assignment_456\"],\n  \"parameters\": {\n    \"new_due_date\": \"2024-08-20T23:59:59Z\",\n    \"reason\": \"Extended due to technical issues\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/bulk-operations",
              "host": ["{{base_url}}"],
              "path": ["admin", "bulk-operations"]
            },
            "description": "Perform bulk operations on multiple assignments"
          }
        }
      ]
    },
    {
      "name": "üë©‚Äçüè´ Teacher Endpoints",
      "item": [
        {
          "name": "Get Teacher Assignments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/teacher/my-assignments?status=active&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["teacher", "my-assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get all assignments created by the current teacher"
          }
        },
        {
          "name": "Get Assignment Submissions",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/teacher/{{assignment_id}}/submissions?status=submitted",
              "host": ["{{base_url}}"],
              "path": ["teacher", "{{assignment_id}}", "submissions"],
              "query": [
                {
                  "key": "status",
                  "value": "submitted"
                }
              ]
            },
            "description": "Get all submissions for a specific assignment"
          }
        },
        {
          "name": "Grade Submission",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"grade\": 85,\n  \"feedback\": \"Excellent work! Clear explanations and correct solutions.\",\n  \"rubric_scores\": [\n    {\n      \"criteria\": \"Problem Solving\",\n      \"points\": 45,\n      \"max_points\": 50,\n      \"feedback\": \"Great problem-solving approach\"\n    },\n    {\n      \"criteria\": \"Presentation\",\n      \"points\": 40,\n      \"max_points\": 50,\n      \"feedback\": \"Clear and well-organized\"\n    }\n  ],\n  \"private_notes\": \"Student shows strong understanding\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/teacher/submissions/{{submission_id}}/grade",
              "host": ["{{base_url}}"],
              "path": ["teacher", "submissions", "{{submission_id}}", "grade"]
            },
            "description": "Grade a student's assignment submission"
          }
        },
        {
          "name": "Get Teacher Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/teacher/dashboard",
              "host": ["{{base_url}}"],
              "path": ["teacher", "dashboard"]
            },
            "description": "Get teacher's assignment dashboard with stats and recent activity"
          }
        }
      ]
    },
    {
      "name": "üéì Student Endpoints",
      "item": [
        {
          "name": "üî• Get Unified Assignments (KEY ENDPOINT)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?status=all&sort_by=due_date&page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "all",
                  "description": "pending, submitted, graded, overdue, due_soon, all"
                },
                {
                  "key": "sort_by",
                  "value": "due_date",
                  "description": "due_date, created_date, subject, priority"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "üåü UNIFIED VIEW: Get all assignments across classes and courses in one place!"
          }
        },
        {
          "name": "Get Pending Assignments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?status=pending&sort_by=due_date",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "pending"
                },
                {
                  "key": "sort_by",
                  "value": "due_date"
                }
              ]
            },
            "description": "Get only pending assignments for the student"
          }
        },
        {
          "name": "Get Overdue Assignments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?status=overdue",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "overdue"
                }
              ]
            },
            "description": "Get overdue assignments for the student"
          }
        },
        {
          "name": "Get Assignments Due Soon",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?due_in_days=7&sort_by=priority",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "due_in_days",
                  "value": "7"
                },
                {
                  "key": "sort_by",
                  "value": "priority"
                }
              ]
            },
            "description": "Get assignments due within 7 days, sorted by priority"
          }
        },
        {
          "name": "Get Assignment Details",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/{{assignment_id}}",
              "host": ["{{base_url}}"],
              "path": ["student", "{{assignment_id}}"]
            },
            "description": "Get detailed view of a specific assignment"
          }
        },
        {
          "name": "Submit Assignment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"submission_text\": \"Here is my solution to the assignment problems...\",\n  \"attachments\": [\n    {\n      \"filename\": \"solution.pdf\",\n      \"url\": \"https://storage.example.com/uploads/solution.pdf\",\n      \"file_type\": \"pdf\",\n      \"size\": 512000\n    }\n  ],\n  \"notes\": \"Please let me know if you need clarification on problem 3.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/student/{{assignment_id}}/submit",
              "host": ["{{base_url}}"],
              "path": ["student", "{{assignment_id}}", "submit"]
            },
            "description": "Submit an assignment solution"
          }
        },
        {
          "name": "Get Student Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/dashboard",
              "host": ["{{base_url}}"],
              "path": ["student", "dashboard"]
            },
            "description": "Get student's dashboard with upcoming deadlines and performance"
          }
        },
        {
          "name": "Get Performance Analytics",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/performance?period=month",
              "host": ["{{base_url}}"],
              "path": ["student", "performance"],
              "query": [
                {
                  "key": "period",
                  "value": "month",
                  "description": "week, month, quarter, year, all"
                }
              ]
            },
            "description": "Get detailed performance analytics for assignments"
          }
        }
      ]
    },
    {
      "name": "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Parent Endpoints",
      "item": [
        {
          "name": "Get Child's Assignments",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/parent/student/{{student_id}}/assignments?status=all&period=month",
              "host": ["{{base_url}}"],
              "path": ["parent", "student", "{{student_id}}", "assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "all",
                  "description": "pending, submitted, graded, overdue, all"
                },
                {
                  "key": "period",
                  "value": "month",
                  "description": "week, month, quarter, all"
                }
              ]
            },
            "description": "Get assignment overview for a specific student (parent view)"
          }
        },
        {
          "name": "Get Child's Performance",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/parent/student/{{student_id}}/performance?period=month",
              "host": ["{{base_url}}"],
              "path": ["parent", "student", "{{student_id}}", "performance"],
              "query": [
                {
                  "key": "period",
                  "value": "month",
                  "description": "month, quarter, year"
                }
              ]
            },
            "description": "Get assignment performance overview for a specific student (parent view)"
          }
        }
      ]
    },
    {
      "name": "üîÑ Shared Endpoints",
      "item": [
        {
          "name": "Get Assignment by ID",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/{{assignment_id}}",
              "host": ["{{base_url}}"],
              "path": ["{{assignment_id}}"]
            },
            "description": "Get assignment details by ID (access level depends on user role)"
          }
        },
        {
          "name": "Update Assignment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Mathematics Assignment 1\",\n  \"description\": \"Updated description\",\n  \"due_date\": \"2024-08-20T23:59:59Z\",\n  \"total_marks\": 100,\n  \"instructions\": \"Updated instructions\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/{{assignment_id}}",
              "host": ["{{base_url}}"],
              "path": ["{{assignment_id}}"]
            },
            "description": "Update assignment details (Teacher/Admin only)"
          }
        },
        {
          "name": "Delete Assignment",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/{{assignment_id}}",
              "host": ["{{base_url}}"],
              "path": ["{{assignment_id}}"]
            },
            "description": "Delete an assignment (Teacher/Admin only)"
          }
        }
      ]
    },
    {
      "name": "üß™ Testing Scenarios",
      "item": [
        {
          "name": "Test Unified Student View",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?status=all&sort_by=due_date&limit=50",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "status",
                  "value": "all"
                },
                {
                  "key": "sort_by",
                  "value": "due_date"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "üî• Test the key feature: unified view of ALL assignments"
          }
        },
        {
          "name": "Test Mobile Dashboard",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/dashboard",
              "host": ["{{base_url}}"],
              "path": ["student", "dashboard"]
            },
            "description": "Test mobile-optimized dashboard"
          }
        },
        {
          "name": "Test Priority Filtering",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student/my-assignments?sort_by=priority&sort_order=desc&limit=10",
              "host": ["{{base_url}}"],
              "path": ["student", "my-assignments"],
              "query": [
                {
                  "key": "sort_by",
                  "value": "priority"
                },
                {
                  "key": "sort_order",
                  "value": "desc"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Test priority-based sorting for urgent assignments"
          }
        }
      ]
    }
  ]
}
